# Архитектурные объекты слоя "Техническая архитектура"
Слой технической архитектуры представлен базовой метамоделью **SEAF-CORE** и двумя расширениями:
* **SEAF-DZO** - расширение **SEAF-CORE** нацеленное на автоматизированную проверку стандартов
* **REVERSE** - в большей независимое от **SEAF-CORE** расширение нацеленное на автоматизированный реверс архитектуры из окружения облачных провайдеров

## Состав технической архитектуры
Техническая архитектура строится на базе двух фундаментальных сущностей.

### Технические компоненты
Это простейшие сущности технической архитектуры из которых состоит технический сервис.
К техничесим компонентам относятся такие простейшие вещи как:
* Клиентское устройство
* Аппаратный сервер
* Виртуальный сервер
* Аппаратная СХД
* Сетевое устройство

### Технические сервисы
Это сущность, которая предоставляет слою прикладной архитектуры вычислительные сервисы. Только технический сервис может иметь связанность со слоем прикладной архитектуры.
К техничесим сервисам относятся:
* Регион - пример региона - Россия, Урал, Москва в зависимости от величины инфраструктуры компании
* Зона доступности - часть региона включающая несколько ЦОД объёдинённых высокоскоростным сетевым подключением, но изолированны в питании и физическом расположении 
* Центр обработки данных - физическое местоположение в которых размещены вычичслительные ресурсы
* Вычислительный сервис - используется для связи технических компонентов и прикладного слоя в случае если другие технические сервисы не подходят по смыслу использования
* Кластер - используется для описания любых кластеров
* Виртуализация
* Программная СХД
* Объектная СХД
* Контейнеризация - описание оркестрации контейнеров в т.ч. Kubernetes и Open Shift
* Сеть WAN
* Сеть LAN
* Канал передачи данных
* Сервис мониторинга
* Сервер резервного копирования
* Программное обеспечение и лицензии
* Офис 

## Структура каталогов технической архитектуры
    -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-
    |- _metamodel_                      - Подключенные пакеты метамоделей
    |  |- seaf-core                     - Пакет seaf-core метамодели
    |  |  |- entities                   - Сущности метамодели
    |  |  |  |- ta                      - Описание метамодели технической архитектуры
    |  |  |  |  |- services.yaml        - Описание сущности технических сервисов 
    |  |  |  |  |- components.yaml      - Описание сущности технических компонентов
    |  |  |  |  |- services_docs.yaml   - Описание реестров технических сервисов 
    |  |  |  |  |- components_docs.yaml - Описание реестров технических компонентов
    |- architecture                     - Архитектурные объекты поставляемые с пакетом
    |  |- ta                            - Техническая архитектура
    |  |  |- reverse                    - Архитектура описанная с помощью технологии реверса

## Использование слоя технической архитектуры
Рекоменудемый порядок описания архитектуры инфраструктуры:
1. Регионы, зоны доступности, ЦОДы, офисы
2. Сетевое оборудование, аппаратных серверы и СХД
3. Кластера виртуализации и виртуальные машины
4. Кластера приложений и кластера Kubernetes
5. Системы мониторинга и резервного копирования
6. Пользовательские устройства

## Использование расширений базовой метамодели **SEAF-CORE**
В подавляющем большистве случаев достаточно использовать базовый набор сущностей из поставки **SEAF-CORE**.
Для некоторых компаний будет полезным использование расширенния **SEAF-DZO**. Все сущности этого расширения имеют суффикс **_dzo**. Для части параметров сущностей написаны автоматизированные проверки стандартов ДЗО.
**SEAF-DZO** содержит в себе все поля из базовой метамодели **SEAF-CORE**, но дополнительно включает параметры, которые можно проверять автоматически на соответствие стандартам группы Сбер.
Например, для описания сервиса мониторинга необходимо использовать **seaf.ta.services.monitoring_dzo**.

## Создание расширений базовой метамодели **SEAF-CORE** или **SEAF-DZO**
Для решения частных задач допускает и приветствуется создание расширений на базе предложенных моделей.
Необходимо использовать следующую конструкцию на примере описания сервиса мониторинга:
```
seaf.ta.services.monitoring_dzo:
    title: Расширение описания сервиса мониторинга для целей проверки станадртов
    title: Расширение описания сервиса мониторинга для целей проверки станадртов
    schema: # JSON Schema контролирующая описание объекта сущности
        type: object
        patternProperties:
        "[a-zA-Z0-9_\\.]*":
            $ref: "#/$defs/seaf.ta.services.monitoring"
```
